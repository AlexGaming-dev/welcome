<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Birthday OS Elite – Alex Gaming</title>
    <link rel="icon" type="image/png" href="https://i.postimg.cc/nLhPrLMH/1000072572-3643adb7b6957288cd73d569e60f8263-18-11-2023-12-35-17-20240415-181847-0000-Original.png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;700;900&display=swap">
    <style>
        :root { --accent: #00bcd4; --bg: #050505; --card: #111; --success: #00ff88; --danger: #ff0055; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: white; display: flex; justify-content: center; align-items: center; min-height: 100vh; padding: 20px; }
        
        .os-container { max-width: 850px; width: 100%; background: var(--card); border: 1px solid #222; border-radius: 28px; padding: 40px; box-shadow: 0 20px 60px rgba(0,0,0,0.7); text-align: center; position: relative; }
        
        /* POPUP */
        #overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.92); backdrop-filter: blur(12px); z-index: 100; display: flex; justify-content: center; align-items: center; visibility: hidden; opacity: 0; transition: 0.5s; }
        #overlay.active { visibility: visible; opacity: 1; }
        .popup { background: #000; border: 1px solid var(--accent); padding: 40px; border-radius: 24px; max-width: 500px; text-align: center; }
        
        /* FSK ICONS */
        .fsk-badge { width: 45px; height: 45px; object-fit: contain; filter: drop-shadow(0 0 5px rgba(255,255,255,0.2)); }
        .rating-flex { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; margin-top: 10px; }

        .timer-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 30px 0; }
        .time-box { background: #000; padding: 20px; border-radius: 18px; border: 1px solid #333; }
        .time-box span { display: block; font-size: 2.8rem; font-weight: 900; color: var(--success); font-family: 'JetBrains Mono'; }

        .tool-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; }
        .tool-card { background: #0c0c0c; padding: 20px; border-radius: 15px; border: 1px solid #222; text-align: left; transition: 0.3s; }
        .tool-card:hover { border-color: var(--accent); background: #121212; }
        .tool-card small { display: block; color: var(--accent); font-size: 0.7rem; text-transform: uppercase; margin-bottom: 10px; font-weight: 800; }
        
        .btn { display: inline-block; padding: 15px 30px; background: var(--accent); color: black; text-decoration: none; border-radius: 10px; font-weight: 800; cursor: pointer; border: none; margin-top: 25px; transition: 0.3s; }
        .btn:hover { transform: scale(1.05); box-shadow: 0 0 20px var(--accent); }
        
        .celeb-alert { color: var(--success); font-size: 0.8rem; margin-top: 5px; font-style: italic; }
    </style>
</head>
<body>

<div id="overlay">
    <div class="popup">
        <h2 id="pop-title" style="color: var(--accent); font-family: 'JetBrains Mono'; margin-bottom: 20px;">SYSTEM CHECK</h2>
        <p id="pop-text" style="color: #888; margin-bottom: 25px;"></p>
        <div id="pop-icons" class="rating-flex"></div>
        <button class="btn" onclick="closePopup()">INITIALIZE INTERFACE</button>
    </div>
</div>

<div class="os-container" id="app">
    <h1>Birthday OS v2.0</h1>
    <p>Please provide identity credentials (Name & Date).</p>
    <button class="btn" onclick="promptUser()">LOGIN</button>
</div>

<script>
    const app = document.getElementById('app');
    const query = decodeURIComponent(window.location.search.substring(1));
    const activeLang = localStorage.getItem('selectedLang') || 'en';

    const fskLinks = [
        "https://albrecht-kino.de/wp-content/uploads/sites/9/2019/09/600px-FSK_0.svg_.png",
        "https://parklichtspiele.de/wp-content/uploads/sites/19/2020/05/600px-FSK_6.svg_.png",
        "https://cdn.cineweb.de/media/betreiber/haveltorkino-2018/city/rathenow-2018/images/FSK-12J.png",
        "https://albrecht-kino.de/wp-content/uploads/sites/9/2019/09/600px-FSK_16.svg_.png",
        "https://cdn.cineweb.de/media/betreiber/kino-center-husum-2018/city/husum-2018/images/Sonstige/FSK/fsk18j.png"
    ];

    const celebs = {
        "Elon Musk": "Mars is waiting for you!",
        "Cristiano Ronaldo": "SUIWY! The GOAT is here.",
        "Albert Einstein": "Relatively speaking, you look young.",
        "Alex Gaming": "The creator itself? Welcome, Admin.",
        "Lionel Messi": "Magic in your feet, magic in this date."
    };

    function init() {
        if (query.includes('&')) {
            const [name, date] = query.split('&');
            renderOS(name, date);
        }
    }

    function promptUser() {
        const n = prompt("Name:");
        const d = prompt("Date (DD.MM.YYYY):");
        if(n && d) window.location.search = `?${encodeURIComponent(n)}&${encodeURIComponent(d)}`;
    }

    function detectOrigin(name) {
        const n = name.toLowerCase();
        if (n.endsWith('ov') || n.endsWith('in')) return "Eastern Europe";
        if (n.endsWith('ez') || n.endsWith('os')) return "Spain / Latin Am.";
        if (n.endsWith('son') || n.endsWith('smith')) return "English Speaking";
        if (n.endsWith('er') || n.endsWith('mann')) return "Germany / Central Europe";
        return "Global / Unknown";
    }

    function renderOS(name, dateStr) {
        const origin = detectOrigin(name);
        const celebMsg = celebs[name] ? `<div class="celeb-alert">★ ${celebs[name]}</div>` : "";

        app.innerHTML = `
            <h1 style="color:var(--accent)">Birthday OS Elite</h1>
            <div style="font-size: 1.2rem; margin-bottom: 20px;">Identity: <strong>${name}</strong> ${celebMsg}</div>
            
            <div class="timer-grid">
                <div class="time-box"><span id="d-val">0</span><label>Days</label></div>
                <div class="time-box"><span id="h-val">0</span><label>Hrs</label></div>
                <div class="time-box"><span id="m-val">0</span><label>Min</label></div>
            </div>

            <div class="tool-grid">
                <div class="tool-card"><small>Biological Age</small><span id="c-age">-</span></div>
                <div class="tool-card"><small>Name Origin</small><span>${origin}</span></div>
                <div class="tool-card"><small>Clearance Tiers</small><div id="c-ratings" class="rating-flex"></div></div>
                <div class="tool-card"><small>Celebrity Status</small><span>${celebs[name] ? "Verified ★" : "Citizen"}</span></div>
            </div>
            <button class="btn" onclick="copyLink()">GENERATE SHARE LINK</button>
        `;
        runLogic(name, dateStr);
    }

    function runLogic(name, dateStr) {
        const p = dateStr.split('.');
        const bDate = new Date(p[2], p[1] - 1, p[0]);
        const today = new Date();
        let age = today.getFullYear() - bDate.getFullYear();
        let next = new Date(today.getFullYear(), bDate.getMonth(), bDate.getDate());
        if (today > next) { next.setFullYear(today.getFullYear() + 1); } else { age--; }

        document.getElementById('c-age').innerText = age;

        // FSK Display Logic
        const popIcons = document.getElementById('pop-icons');
        const dashIcons = document.getElementById('c-ratings');
        const tiers = [0, 6, 12, 16, 18];
        
        tiers.forEach((lvl, i) => {
            if (age >= lvl) {
                const img = `<img src="${fskLinks[i]}" class="fsk-badge" title="FSK ${lvl}">`;
                popIcons.innerHTML += img;
                dashIcons.innerHTML += img;
            }
        });

        // Popup Logic
        const popText = age >= 130 ? "DATA ERROR: Time Lord detected. Ancient clearances active." : `Welcome ${name}. Biometric data confirmed. Access granted.`;
        document.getElementById('pop-text').innerText = popText;
        if(age >= 130) document.getElementById('pop-title').style.color = "var(--danger)";
        
        setTimeout(() => document.getElementById('overlay').classList.add('active'), 500);

        setInterval(() => {
            const diff = next - new Date();
            document.getElementById('d-val').innerText = Math.floor(diff / 864e5);
            document.getElementById('h-val').innerText = Math.floor((diff % 864e5) / 36e5);
            document.getElementById('m-val').innerText = Math.floor((diff % 36e5) / 6e4);
        }, 1000);
    }

    function closePopup() { document.getElementById('overlay').classList.remove('active'); }
    function copyLink() { navigator.clipboard.writeText(window.location.href); alert("Copied!"); }
    
    init();
</script>
</body>
</html>
