<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ADMIN PANEL - Member Management</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;800&display=swap">
  <style>
    :root { --admin-red: #ff0055; --bg: #050505; --card: #111; --accent: #00bcd4; --success: #00ff88; }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', sans-serif; background: var(--bg); color: white; display: none; padding: 20px; }
    
    .header { display: flex; justify-content: space-between; align-items: center; padding: 20px; border-bottom: 2px solid var(--admin-red); margin-bottom: 30px; }
    h1 { font-family: 'JetBrains Mono', monospace; color: var(--admin-red); text-transform: uppercase; font-size: 1.5rem; }

    .grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px; }
    .card { background: var(--card); border: 1px solid #222; border-radius: 12px; padding: 20px; }
    .card h2 { font-size: 1rem; margin-bottom: 15px; color: var(--accent); display: flex; align-items: center; gap: 10px; }

    /* INPUTS */
    input, select, textarea { width: 100%; padding: 12px; background: #000; border: 1px solid #333; color: white; margin-bottom: 10px; border-radius: 6px; font-family: inherit; }
    .action-btn { background: var(--accent); color: black; border: none; padding: 12px; width: 100%; font-weight: 800; cursor: pointer; border-radius: 6px; transition: 0.2s; margin-top: 5px; }
    .action-btn:hover { transform: scale(1.02); }

    /* MEMBER LIST & CODE BOX */
    .member-item { background: #000; padding: 10px; border-radius: 5px; margin-bottom: 8px; border-left: 3px solid var(--success); display: flex; justify-content: space-between; }
    #code-output-area { background: #000; color: var(--success); border: 1px solid var(--success); height: 150px; font-size: 0.75rem; }

    .full-width { grid-column: span 2; }
    .badge { background: #333; padding: 2px 6px; border-radius: 4px; font-size: 0.7rem; }
  </style>
</head>
<body>

<div class="header">
  <h1>Member Admin Hub</h1>
  <div style="font-family: 'JetBrains Mono'; font-size: 0.8rem;">AUTH: <span style="color:var(--success)">LEVEL_01</span></div>
</div>

<div class="grid">
  
  <div class="card">
    <h2><span>ðŸ‘¤</span> Neuen Member hinzufÃ¼gen</h2>
    <input type="text" id="mem-name" placeholder="Name (z.B. Max Mustermann)">
    <input type="text" id="mem-github" placeholder="GitHub Username (fÃ¼r Profilbild)">
    <select id="mem-role">
        <option value="Lead Developer">Lead Developer</option>
        <option value="Frontend Dev">Frontend Dev</option>
        <option value="Backend Dev">Backend Dev</option>
        <option value="Moderator">Moderator</option>
        <option value="Contributor">Contributor</option>
    </select>
    <button class="action-btn" onclick="addMember()">HinzufÃ¼gen & Generieren</button>
  </div>

  <div class="card">
    <h2><span>ðŸ“‹</span> Aktuelle Session Member</h2>
    <div id="member-list-display">
        </div>
  </div>

  <div class="card full-width">
    <h2><span>ðŸ“„</span> Generierter HTML-Code (fÃ¼r members/index.html)</h2>
    <p style="font-size: 0.8rem; color: #888; margin-bottom: 10px;">Kopiere diesen Code in deine Seite, um die Member-Cards anzuzeigen.</p>
    <textarea id="code-output-area" readonly></textarea>
    <button class="action-btn" style="background: var(--success)" onclick="copyToClipboard()">Code in Zwischenablage kopieren</button>
  </div>

</div>

<script>
  // SECURITY
  const urlParams = new URLSearchParams(window.location.search);
  if (urlParams.get('alexgamingadmin_pw') !== 'AAaa221199') {
    window.location.href = "../";
  } else {
    document.body.style.display = 'block';
  }

  let members = [];

  function addMember() {
    const name = document.getElementById('mem-name').value;
    const github = document.getElementById('mem-github').value || 'github';
    const role = document.getElementById('mem-role').value;

    if(!name) return alert("Name erforderlich!");

    members.push({ name, github, role });
    updateUI();
    
    // Reset Inputs
    document.getElementById('mem-name').value = "";
    document.getElementById('mem-github').value = "";
  }

  function updateUI() {
    // 1. Liste anzeigen
    const list = document.getElementById('member-list-display');
    list.innerHTML = members.map((m, i) => `
      <div class="member-item">
        <span><strong>${m.name}</strong> <span class="badge">${m.role}</span></span>
        <span style="color:red; cursor:pointer" onclick="removeMember(${i})">Ã—</span>
      </div>
    `).join('');

    // 2. Code generieren (Template fÃ¼r members/index.html)
    const codeArea = document.getElementById('code-output-area');
    let htmlCode = `\n<div class="member-container" style="display:grid; grid-template-columns:repeat(auto-fit, minmax(200px, 1fr)); gap:20px; padding:20px;">\n`;
    
    members.forEach(m => {
      htmlCode += `  <div class="member-card" style="background:#111; border:1px solid #333; padding:20px; border-radius:12px; text-align:center;">
    <img src="https://github.com/${m.github}.png" style="width:60px; height:60px; border-radius:50%; margin-bottom:10px; border:2px solid var(--accent);">
    <h3 style="color:white; margin:5px 0;">${m.name}</h3>
    <span style="color:#00bcd4; font-size:0.8rem; text-transform:uppercase;">${m.role}</span>
  </div>\n`;
    });

    htmlCode += `</div>`;
    codeArea.value = htmlCode;
  }

  function removeMember(index) {
    members.splice(index, 1);
    updateUI();
  }

  function copyToClipboard() {
    const copyText = document.getElementById("code-output-area");
    copyText.select();
    document.execCommand("copy");
    alert("Code kopiert! FÃ¼ge ihn jetzt in deine index.html oder members/index.html ein.");
  }
</script>
</body>
</html>
